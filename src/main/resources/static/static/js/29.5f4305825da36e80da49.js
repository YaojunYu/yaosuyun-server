webpackJsonp([29],{"0Go/":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("cAgV"),n=a("0xDb"),l=a("vLgD");var r={name:"appversionTable",directives:{waves:i.a},data:function(){return{tableKey:0,list:null,total:null,listLoading:!0,listQuery:{page:1,size:10,between:"",time:"",keyword:""},timePickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.setTime(t.getTime()+864e5),a.setHours(0,0,0,0),t.setHours(0,0,0,0),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.setTime(t.getTime()+864e5),a.setHours(0,0,0,0),t.setHours(0,0,0,0),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.setTime(t.getTime()+864e5),a.setHours(0,0,0,0),t.setHours(0,0,0,0),e.$emit("pick",[a,t])}}]},downloadLoading:!1}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.listLoading=!0,function(e){if(e.time){var t=Object(n.c)(e.time[0],"{y}-{m}-{d} {h}:{i}:{s}"),a=Object(n.c)(e.time[1],"{y}-{m}-{d} {h}:{i}:{s}");e.between=t+","+a}else e.between="";return Object(l.a)({url:"/managers/apps/versions",method:"get",params:e})}(this.listQuery).then(function(t){e.list=t.data.data.list,e.total=t.data.data.total,e.listLoading=!1})},handleFilter:function(){this.listQuery.page=1,this.getList()},handleSizeChange:function(e){this.listQuery.limit=e,this.getList()},handleCurrentChange:function(e){this.listQuery.page=e,this.getList()},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return"createTime"===e?Object(n.c)(t[e]):t[e]})})}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container list-container"},[a("div",{staticClass:"filter-container"},[a("el-date-picker",{staticClass:"filter-item",attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","default-time":["00:00:00"],"picker-options":e.timePickerOptions},model:{value:e.listQuery.time,callback:function(t){e.$set(e.listQuery,"time",t)},expression:"listQuery.time"}}),e._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"350px"},attrs:{placeholder:"包名/应用"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.handleFilter(t)}},model:{value:e.listQuery.keyword,callback:function(t){e.$set(e.listQuery,"keyword",t)},expression:"listQuery.keyword"}}),e._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("搜索")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,staticClass:"list-table",staticStyle:{width:"100%"},attrs:{data:e.list,"element-loading-text":"加载中...",fit:"","highlight-current-row":"",stripe:""}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"应用名"}},[a("div",[e._v(e._s(t.row.name))])]),e._v(" "),a("el-form-item",{attrs:{label:"版本"}},[a("div",[e._v(e._s(t.row.version))])]),e._v(" "),a("el-form-item",{attrs:{label:"更新日志"}},[a("div",[e._v(e._s(t.row.log)+"\n            ")])])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"序号",prop:"id",width:"50px"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"应用名",prop:"name"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"应用类型",prop:"type"},scopedSlots:e._u([{key:"default",fn:function(t){return["android"===t.row.type?a("span",[e._v("安卓")]):"ios"===t.row.type?a("span",[e._v("苹果")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"包名",prop:"pkg"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"版本",prop:"version"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"强制更新",prop:"isForce"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.isForce?a("span",[e._v("是")]):0===t.row.isForce?a("span",[e._v("否")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"地址",prop:"url",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{href:t.row.url}},[e._v("下载")])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"创建时间",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.createTime))])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{background:"","current-page":e.listQuery.page,"page-sizes":[10,20,30,50],"page-size":e.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var o=a("VU/8")(r,s,!1,function(e){a("2fZn")},"data-v-c500b29c",null);t.default=o.exports},"2beF":function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.table-expand[data-v-c500b29c] {\n  font-size: 0;\n}\n.table-expand label[data-v-c500b29c] {\n  width: 90px;\n  color: #99a9bf;\n}\n.table-expand .el-form-item[data-v-c500b29c] {\n  margin-right: 0;\n  margin-bottom: 0;\n  width: 50%;\n}\n",""])},"2fZn":function(e,t,a){var i=a("2beF");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("15e4b311",i,!0)}});